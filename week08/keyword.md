### í‚¤ì›Œë“œ ì •ë¦¬ ğŸ 

- useMutation ğŸ 
    - useMutationì´ ë¬´ì—‡ì¸ê°€ìš”?
        
        useMutationì€ React Queryì—ì„œ ì œê³µí•˜ëŠ” í›…ìœ¼ë¡œ, ì„œë²„ì— ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ë¹„ë™ê¸° ì‘ì—…ì„ ìˆ˜í–‰í•  ë•Œ ì‚¬ìš©. ì£¼ë¡œ POST, PUT, DELETE ìš”ì²­ê³¼ ê°™ì€ ë°ì´í„° ë³€ê²½ ì‘ì—…ì— ì‚¬ìš©
        
    - onMutate
        
        onMutateëŠ” ë®¤í…Œì´ì…˜ì´ ì‹œì‘ë˜ê¸° ì „ì— í˜¸ì¶œë˜ëŠ” ì½œë°±ìœ¼ë¡œ, í˜„ì¬ ìƒíƒœë¥¼ ì €ì¥í•˜ê±°ë‚˜, UIë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ë° ì‚¬ìš© ê°€ëŠ¥. ì´ ì½œë°±ì€ ë®¤í…Œì´ì…˜ì´ ì‹œì‘ë˜ê¸° ì „ì— í˜¸ì¶œë˜ë©°, ì¼ë°˜ì ìœ¼ë¡œ ë‚™ê´€ì  ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•œ ì¤€ë¹„ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë° ìœ ìš©í•¨.
        
    - onSuccess
        
        nSuccessëŠ” ë®¤í…Œì´ì…˜ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œëœ í›„ í˜¸ì¶œë˜ëŠ” ì½œë°±ìœ¼ë¡œ, ì„±ê³µì ì¸ ì‘ë‹µì„ ì²˜ë¦¬í•˜ê±°ë‚˜ ê´€ë ¨ ì¿¼ë¦¬ë¥¼ ë¬´íš¨í™”(invalidate)í•˜ì—¬ UIë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ë° ì‚¬ìš©.
        
    - onError
        
        onErrorëŠ” ë®¤í…Œì´ì…˜ì´ ì‹¤íŒ¨í–ˆì„ ë•Œ í˜¸ì¶œë˜ëŠ” ì½œë°±. ì˜¤ë¥˜ë¥¼ ì²˜ë¦¬í•˜ê±°ë‚˜ ì‚¬ìš©ìì—ê²Œ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ í‘œì‹œí•˜ëŠ” ë“±ì˜ ì‘ì—…ì„ ìˆ˜í–‰ ê°€ëŠ¥.
        
    - onSettled
        
        onSettledëŠ” ë®¤í…Œì´ì…˜ì´ ì„±ê³µí•˜ë“  ì‹¤íŒ¨í•˜ë“  ìƒê´€ì—†ì´ í•­ìƒ í˜¸ì¶œë˜ëŠ” ì½œë°±. ì£¼ë¡œ UIë¥¼ ë¦¬ì…‹í•˜ê±°ë‚˜ ì •ë¦¬ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë° ì‚¬ìš©.
        
    - invalidateQueries
        
        invalidateQueriesëŠ” íŠ¹ì • ì¿¼ë¦¬ë¥¼ ë¬´íš¨í™”í•˜ì—¬ ë°ì´í„°ê°€ ë³€ê²½ë˜ì—ˆìŒì„ React Queryì— ì•Œë¦¬ëŠ” ë°©ë²•. ì´ëŠ” UIì—ì„œ ìµœì‹  ë°ì´í„°ë¥¼ ë°˜ì˜í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ì‘ì—…ì„.
        
- ë‚™ê´€ì  ì—…ë°ì´íŠ¸ (Optimistic Update) ğŸ 
    - ë‚™ê´€ì  ì—…ë°ì´íŠ¸ë€?
        
        ë‚™ê´€ì  ì—…ë°ì´íŠ¸ëŠ” ë°ì´í„° ë³€ê²½ ìš”ì²­ì´ ì„œë²„ì— ì„±ê³µì ìœ¼ë¡œ ì „ë‹¬ë  ê²ƒì´ë¼ê³  ê°€ì •í•˜ê³ , ì¦‰ì‹œ UIë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ë°©ì‹. ì‚¬ìš©ìê°€ ë³€ê²½ ì‘ì—…ì„ ì‹¤í–‰í–ˆì„ ë•Œ, ì„œë²„ì˜ ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜ì˜í•˜ì—¬ ì‚¬ìš©ì ê²½í—˜ì„ í–¥ìƒì‹œí‚´.
        
    - ë‚™ê´€ì  ì—…ë°ì´íŠ¸ë¥¼ `useMutation`ì„ í™œìš©í•˜ì—¬ êµ¬í˜„í•  ìˆ˜ ìˆëŠ” ë°©ë²•?
        
        useMutationì˜ onMutate ì½œë°±ì„ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ ìƒíƒœë¥¼ ì €ì¥í•˜ê³ , UIë¥¼ ì¦‰ì‹œ ì—…ë°ì´íŠ¸ ê°€ëŠ¥.
        
        ex)
        
        ```jsx
        const mutation = useMutation(mutateFunction, {
          onMutate: async (newData) => {
            // í˜„ì¬ ìƒíƒœë¥¼ ì €ì¥
            await queryClient.cancelQueries('dataKey');
            const previousData = queryClient.getQueryData('dataKey');
        
            // ë‚™ê´€ì  ì—…ë°ì´íŠ¸
            queryClient.setQueryData('dataKey', (old) => ({
              ...old,
              data: [...old.data, newData],
            }));
        
            return { previousData };
          },
          onError: (err, newData, context) => {
            // ì˜¤ë¥˜ ë°œìƒ ì‹œ ì´ì „ ë°ì´í„° ë³µì›
            queryClient.setQueryData('dataKey', context.previousData);
          },
          onSettled: () => {
            // ì¿¼ë¦¬ ë¬´íš¨í™”í•˜ì—¬ ìµœì‹  ë°ì´í„° ìš”ì²­
            queryClient.invalidateQueries('dataKey');
          },
        });
        
        ```